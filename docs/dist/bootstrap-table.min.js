/*
* bootstrap-table - v1.12.1 - 2018-09-12
* https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2018 zhixin wen
* Licensed MIT License
*/
!function(a){function b(a){if(a){if(Array.isArray(a))return 0;var b;if(e&&e(a),"object"==typeof a&&"function"==typeof(b=a[d]))return e&&e(void 0),b.call(a);if(e&&e(void 0),a+""=="[object Generator]")return a}throw new Error(a+" is not iterable")}var c=Array.prototype.slice,d="undefined"!=typeof Symbol&&Symbol&&Symbol.iterator||"@@iterator",e="undefined"!=typeof Symbol&&Symbol&&Symbol.__setObjectSetter__,f=3;try{var g=a.fn.dropdown.Constructor.VERSION;void 0!==g&&(f=parseInt(g,10))}catch(h){}var i={3:{iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen"},classes:{buttons:"default",pull:"pull"},html:{toobarDropdow:['<ul class="dropdown-menu" role="menu">',"</ul>"],toobarDropdowItem:'<li role="menuitem"><label>%s</label></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>'}},4:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-toggle-down",paginationSwitchUp:"fa-toggle-up",refresh:"fa-refresh",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt"},classes:{buttons:"secondary",pull:"float"},html:{toobarDropdow:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toobarDropdowItem:'<label class="dropdown-item">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>'}}}[f],j={bootstrapVersion:f,sprintf:function(a){var b=c.call(arguments,1),d=!0,e=0;return a=a.replace(/%s/g,function(){var a=b[e++];return"undefined"==typeof a?(d=!1,""):a}),d?a:""},getFieldTitle:function(a,c){var d,e,f;d=b(a),f=0===d,e=f?a.length:void 0;for(var g;f?e>d:!(e=d.next()).done;)if(g=f?a[d++]:e.value,g.field===c)return g.title;return d=e=f=void 0,""},setFieldIndex:function(a){var c,d,e,f,g=0,h=[];f=a[0],c=b(f),e=0===c,d=e?f.length:void 0;for(var i;e?d>c:!(d=c.next()).done;)i=e?f[c++]:d.value,g+=i.colspan||1;c=d=e=f=void 0;for(var j=0;j<a.length;j++){h[j]=[];for(var k=0;g>k;k++)h[j][k]=!1}for(var l=0;l<a.length;l++)for(var m=0;m<a[l].length;m++){var n=a[l][m],o=n.rowspan||1,p=n.colspan||1,q=h[l].indexOf(!1);1===p&&(n.fieldIndex=q,"undefined"==typeof n.field&&(n.field=q));for(var r=0;o>r;r++)h[l+r][q]=!0;for(var s=0;p>s;s++)h[l][q+s]=!0}},getScrollBarWidth:function(){if(null===this.cachedWidth){var b,c,d=a("<div/>").addClass("fixed-table-scroll-inner"),e=a("<div/>").addClass("fixed-table-scroll-outer");e.append(d),a("body").append(e),b=d[0].offsetWidth,e.css("overflow","scroll"),c=d[0].offsetWidth,b===c&&(c=e[0].clientWidth),e.remove(),this.cachedWidth=b-c}return this.cachedWidth},calculateObjectValue:function(a,c,f,g){function h(a,b){if(a){if(Array.isArray(a))return b?a.slice():a;var c,f;if(e&&e(a),"object"==typeof a&&"function"==typeof(b=a[d])?(c=b.call(a),f=[]):a+""=="[object Generator]"&&(c=a,f=[]),e&&e(void 0),f){for(;b=c.next(),b.done!==!0;)f.push(b.value);return f}}throw new Error(a+" is not iterable")}var i,j,k,l=c;if("string"==typeof c){var m=c.split(".");if(m.length>1){l=window,i=b(m),k=0===i,j=k?m.length:void 0;for(var n;k?j>i:!(j=i.next()).done;)n=k?m[i++]:j.value,l=l[n];i=j=k=void 0}else l=window[c]}return null!==l&&"object"==typeof l?l:"function"==typeof l?l.apply(a,f||[]):!l&&"string"==typeof c&&this.sprintf.apply(this,[c].concat(h(f)))?this.sprintf.apply(this,[c].concat(h(f))):g},compareObjects:function(a,c,d){var e,f,g,h=Object.keys(a),i=Object.keys(c);if(d&&h.length!==i.length)return!1;e=b(h),g=0===e,f=g?h.length:void 0;for(var j;g?f>e:!(f=e.next()).done;)if(j=g?h[e++]:f.value,i.includes(j)&&a[j]!==c[j])return!1;return e=f=g=void 0,!0},escapeHTML:function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):a},getRealDataAttr:function(a){for(var b in a){var c=b.split(/(?=[A-Z])/).join("-").toLowerCase();c!==b&&(a[c]=a[b],delete a[b])}return a},getItemField:function(a,c,d){var e,f,g,h=a;if("string"!=typeof c||a.hasOwnProperty(c))return d?this.escapeHTML(a[c]):a[c];var i=c.split(".");e=b(i),g=0===e,f=g?i.length:void 0;for(var j;g?f>e:!(f=e.next()).done;)j=g?i[e++]:f.value,h=h&&h[j];return e=f=g=void 0,d?this.escapeHTML(h):h},isIEBrowser:function(){return navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)}},k={classes:"table table-hover",locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,sortClass:void 0,rememberOrder:!1,striped:!1,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(a){return a},queryParamsType:"limit",responseHandler:function(a){return a},pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},detailFilter:function(){return!0},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:i.classes.buttons,iconsPrefix:i.iconsPrefix,icons:i.icons,customSearch:a.noop,customSort:a.noop,ignoreClickToSelectOn:function(a){return["A","BUTTON"].includes(a.tagName)},rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},l={};l["en-US"]=l.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(a){return j.sprintf("%s rows per page",a)},formatShowingRows:function(a,b,c){return j.sprintf("Showing %s to %s of %s rows",a,b,c)},formatDetailPagination:function(a){return j.sprintf("Showing %s rows",a)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatFullscreen:function(){return"Fullscreen"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},a.extend(k,l["en-US"]);var m={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1,showSelectTitle:!1},n={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"},o=function(){"use strict";function d(b,c){this.options=c,this.$el=a(b),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()}var e=(function(a,b){return a.__proto__={a:b},a.a===b}({},{}),Object.defineProperty),f=Object.getOwnPropertyDescriptor,g=function(a,b){for(var c in b)b.hasOwnProperty(c)&&e(a,c,f(b,c));return a},h={};return e(d,"prototype",{configurable:!1,enumerable:!1,writable:!1}),h.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},h.initLocale=function(){if(this.options.locale){var b=a.fn.bootstrapTable.locales,c=this.options.locale.split(/-|_/);c[0].toLowerCase(),c[1]&&c[1].toUpperCase(),b[this.options.locale]?a.extend(this.options,b[this.options.locale]):a.fn.bootstrapTable.locales[c.join("-")]?a.extend(this.options,b[c.join("-")]):a.fn.bootstrapTable.locales[c[0]]&&a.extend(this.options,b[c[0]])}},h.initContainer=function(){var b=["top","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",c=["bottom","both"].includes(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"";this.$container=a('\n        <div class="bootstrap-table">\n        <div class="fixed-table-toolbar"></div>\n        '+b+('\n        <div class="fixed-table-container">\n        <div class="fixed-table-header"><table></table></div>\n        <div class="fixed-table-body">\n        <div class="fixed-table-loading">\n        '+this.options.formatLoadingMessage())+('\n        </div>\n        </div>\n        <div class="fixed-table-footer"><table><tr></tr></table></div>\n        </div>\n        '+c)+"\n        </div>\n      "),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.options.buttonsToolbar?a("body").find(this.options.buttonsToolbar):this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),this.options.classes.split(" ").includes("table-no-bordered")&&this.$tableContainer.addClass("table-no-bordered")},h.initTable=function(){var b=this,c=[],e=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=a("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(b,d){var e=[];a(d).find("th").each(function(b,c){"undefined"!=typeof a(c).data("field")&&a(c).data("field",""+a(c).data("field")),e.push(a.extend({},{title:a(c).html(),"class":a(c).attr("class"),titleTooltip:a(c).attr("title"),rowspan:a(c).attr("rowspan")?+a(c).attr("rowspan"):void 0,colspan:a(c).attr("colspan")?+a(c).attr("colspan"):void 0},a(c).data()))}),c.push(e)}),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=a.extend(!0,[],c,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],j.setFieldIndex(this.options.columns),this.options.columns.forEach(function(c,e){c.forEach(function(c,f){c=a.extend({},d.COLUMN_DEFAULTS,c),"undefined"!=typeof c.fieldIndex&&(b.columns[c.fieldIndex]=c,b.fieldsColumnsIndex[c.field]=c.fieldIndex),b.options.columns[e][f]=c})}),!this.options.data.length){var f=[];this.$el.find(">tbody>tr").each(function(c,d){var g={};g._id=a(d).attr("id"),g._class=a(d).attr("class"),g._data=j.getRealDataAttr(a(d).data()),a(d).find(">td").each(function(d,e){for(var h=+a(e).attr("colspan")||1,i=+a(e).attr("rowspan")||1;f[c]&&f[c][d];d++);for(var k=d;d+h>k;k++)for(var l=c;c+i>l;l++)f[l]||(f[l]=[]),f[l][k]=!0;var m=b.columns[d].field;g[m]=a(e).html(),g["_"+m+"_id"]=a(e).attr("id"),g["_"+m+"_class"]=a(e).attr("class"),g["_"+m+"_rowspan"]=a(e).attr("rowspan"),g["_"+m+"_colspan"]=a(e).attr("colspan"),g["_"+m+"_title"]=a(e).attr("title"),g["_"+m+"_data"]=j.getRealDataAttr(a(e).data())}),e.push(g)}),this.options.data=e,e.length&&(this.fromHtml=!0)}},h.initHeader=function(){var b=this,c={},d=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},this.options.columns.forEach(function(a,e){d.push("<tr>"),0===e&&!b.options.cardView&&b.options.detailView&&d.push('<th class="detail" rowspan="'+b.options.columns.length+'">\n            <div class="fht-cell"></div>\n            </th>\n          '),a.forEach(function(a,f){var g="",h="",i="",k="",l=j.sprintf(' class="%s"',a["class"]),m="px",n=a.width;if(void 0===a.width||b.options.cardView||"string"==typeof a.width&&a.width.includes("%")&&(m="%"),a.width&&"string"==typeof a.width&&(n=a.width.replace("%","").replace("px","")),h=j.sprintf("text-align: %s; ",a.halign?a.halign:a.align),i=j.sprintf("text-align: %s; ",a.align),k=j.sprintf("vertical-align: %s; ",a.valign),k+=j.sprintf("width: %s; ",!a.checkbox&&!a.radio||n?n?n+m:void 0:a.showSelectTitle?void 0:"36px"),"undefined"!=typeof a.fieldIndex){if(b.header.fields[a.fieldIndex]=a.field,b.header.styles[a.fieldIndex]=i+k,b.header.classes[a.fieldIndex]=l,b.header.formatters[a.fieldIndex]=a.formatter,b.header.events[a.fieldIndex]=a.events,b.header.sorters[a.fieldIndex]=a.sorter,b.header.sortNames[a.fieldIndex]=a.sortName,b.header.cellStyles[a.fieldIndex]=a.cellStyle,b.header.searchables[a.fieldIndex]=a.searchable,!a.visible)return;if(b.options.cardView&&!a.cardVisible)return;c[a.field]=a}d.push("<th"+j.sprintf(' title="%s"',a.titleTooltip),a.checkbox||a.radio?j.sprintf(' class="bs-checkbox %s"',a["class"]||""):l,j.sprintf(' style="%s"',h+k),j.sprintf(' rowspan="%s"',a.rowspan),j.sprintf(' colspan="%s"',a.colspan),j.sprintf(' data-field="%s"',a.field),0===f&&e>0?" data-not-first-th":"",">"),d.push(j.sprintf('<div class="th-inner %s">',b.options.sortable&&a.sortable?"sortable both":"")),g=b.options.escape?j.escapeHTML(a.title):a.title;var o=g;a.checkbox&&(g="",!b.options.singleSelect&&b.options.checkboxHeader&&(g='<input name="btSelectAll" type="checkbox" />'),b.header.stateField=a.field),a.radio&&(g="",b.header.stateField=a.field,b.options.singleSelect=!0),!g&&a.showSelectTitle&&(g+=o),d.push(g),d.push("</div>"),d.push('<div class="fht-cell"></div>'),d.push("</div>"),d.push("</th>")}),d.push("</tr>")}),this.$header.html(d.join("")),this.$header.find("th[data-field]").each(function(b,d){a(d).data(c[a(d).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(c){var d=a(c.currentTarget);return b.options.detailView&&!d.parent().hasClass("bs-checkbox")&&d.closest(".bootstrap-table")[0]!==b.$container[0]?!1:void(b.options.sortable&&d.parent().data().sortable&&b.onSort(c))}),this.$header.children().children().off("keypress").on("keypress",function(c){if(b.options.sortable&&a(c.currentTarget).data().sortable){var d=c.keyCode||c.which;13===d&&b.onSort(c)}}),a(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),a(window).on("resize.bootstrap-table",a.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(c){var d=a(c.currentTarget).prop("checked");b[d?"checkAll":"uncheckAll"](),b.updateSelected()})},h.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},h.initData=function(a,b){this.options.data="append"===b?this.options.data.concat(a):"prepend"===b?[].concat(a).concat(this.options.data):a||this.options.data,this.data=this.options.data,"server"!==this.options.sidePagination&&this.initSort()},h.initSort=function(){var b=this,c=this.options.sortName,d="desc"===this.options.sortOrder?-1:1,e=this.header.fields.indexOf(this.options.sortName),f=0;return this.options.customSort!==a.noop?void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]):void(-1!==e&&(this.options.sortStable&&this.data.forEach(function(a,b){a._position=b}),this.data.sort(function(f,g){b.header.sortNames[e]&&(c=b.header.sortNames[e]);var h=j.getItemField(f,c,b.options.escape),i=j.getItemField(g,c,b.options.escape),k=j.calculateObjectValue(b.header,b.header.sorters[e],[h,i,f,g]);return void 0!==k?b.options.sortStable&&0===k?f._position-g._position:d*k:((void 0===h||null===h)&&(h=""),(void 0===i||null===i)&&(i=""),b.options.sortStable&&h===i?(h=f._position,i=g._position,f._position-g._position):a.isNumeric(h)&&a.isNumeric(i)?(h=parseFloat(h),i=parseFloat(i),i>h?-1*d:d):h===i?0:("string"!=typeof h&&(h=h.toString()),-1===h.localeCompare(i)?-1*d:d))}),void 0!==this.options.sortClass&&(clearTimeout(f),f=setTimeout(function(){b.$el.removeClass(b.options.sortClass);var a=b.$header.find(j.sprintf('[data-field="%s"]',b.options.sortName).index()+1);b.$el.find(j.sprintf("tr td:nth-child(%s)",a)).addClass(b.options.sortClass)},250))))},h.onSort=function(b){var c=b.type,b=b.currentTarget,d="keypress"===c?a(b):a(b).parent(),e=this.$header.find("th").eq(d.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===d.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=d.data("field"),this.options.sortOrder=this.options.rememberOrder?"asc"===d.data("order")?"desc":"asc":this.columns[this.fieldsColumnsIndex[d.data("field")]].order),this.trigger("sort",this.options.sortName,this.options.sortOrder),d.add(e).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},h.initToolbar=function(){var b,c,d=this,e=[],f=0,g=0;this.$toolbar.find(".bs-bars").children().length&&a("body").append(a(this.options.toolbar)),this.$toolbar.html(""),("string"==typeof this.options.toolbar||"object"==typeof this.options.toolbar)&&a(j.sprintf('<div class="bs-bars %s-%s"></div>',i.classes.pull,this.options.toolbarAlign)).appendTo(this.$toolbar).append(a(this.options.toolbar)),e=[j.sprintf('<div class="columns columns-%s btn-group %s-%s">',this.options.buttonsAlign,i.classes.pull,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=j.calculateObjectValue(null,this.options.icons)),this.options.showPaginationSwitch&&e.push(j.sprintf('<button class="btn'+j.sprintf(" btn-%s",this.options.buttonsClass)+(""+j.sprintf(" btn-%s",this.options.iconSize))+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),j.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showFullscreen&&this.$toolbar.find('button[name="fullscreen"]').off("click").on("click",a.proxy(this.toggleFullscreen,this)),this.options.showRefresh&&e.push(j.sprintf('<button class="btn'+j.sprintf(" btn-%s",this.options.buttonsClass)+(""+j.sprintf(" btn-%s",this.options.iconSize))+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),j.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&e.push(j.sprintf('<button class="btn'+j.sprintf(" btn-%s",this.options.buttonsClass)+(""+j.sprintf(" btn-%s",this.options.iconSize))+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),j.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggleOff),"</button>"),this.options.showFullscreen&&e.push(j.sprintf('<button class="btn'+j.sprintf(" btn-%s",this.options.buttonsClass)+(""+j.sprintf(" btn-%s",this.options.iconSize))+'" type="button" name="fullscreen" aria-label="fullscreen" title="%s">',this.options.formatFullscreen()),j.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.fullscreen),"</button>"),this.options.showColumns&&(e.push(j.sprintf('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+j.sprintf(" btn-%s",this.options.buttonsClass)+(""+j.sprintf(" btn-%s",this.options.iconSize))+' dropdown-toggle" data-toggle="dropdown">',j.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",i.html.toobarDropdow[0]),this.columns.forEach(function(a,b){if(!(a.radio||a.checkbox||d.options.cardView&&!a.cardVisible)){var c=a.visible?' checked="checked"':"";a.switchable&&(e.push(j.sprintf(i.html.toobarDropdowItem,j.sprintf('<input type="checkbox" data-field="%s" value="%s"%s> %s',a.field,b,c,a.title))),g++)}}),e.push(i.html.toobarDropdow[1],"</div>")),e.push("</div>"),(this.showToolbar||e.length>2)&&this.$toolbar.append(e.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",a.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",a.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){d.toggleView()}),this.options.showColumns&&(b=this.$toolbar.find(".keep-open"),g<=this.options.minimumCountColumns&&b.find("input").prop("disabled",!0),b.find("li").off("click").on("click",function(a){a.stopImmediatePropagation()}),b.find("input").off("click").on("click",function(b){var c=a(b.currentTarget);d.toggleColumn(c.val(),c.prop("checked"),!1),d.trigger("column-switch",c.data("field"),c.prop("checked"))})),this.options.search&&(e=[],e.push(j.sprintf('<div class="%s-%s search">',i.classes.pull,this.options.searchAlign),j.sprintf('<input class="form-control'+j.sprintf(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(e.join("")),c=this.$toolbar.find(".search input"),c.off("keyup drop blur").on("keyup drop blur",function(a){d.options.searchOnEnterKey&&13!==a.keyCode||[37,38,39,40].includes(a.keyCode)||(clearTimeout(f),f=setTimeout(function(){d.onSearch(a)},d.options.searchTimeOut))}),j.isIEBrowser()&&c.off("mouseup").on("mouseup",function(a){clearTimeout(f),f=setTimeout(function(){d.onSearch(a)},d.options.searchTimeOut)}))},h.onSearch=function(b){var c=b.currentTarget,b=b.firedByInitSearchText,d=a.trim(a(c).val());this.options.trimOnSearch&&a(c).val()!==d&&a(c).val(d),d!==this.searchText&&(this.searchText=d,this.options.searchText=d,b||(this.options.pageNumber=1),this.initSearch(),b?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",d))},h.initSearch=function(){var b=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==a.noop)return void("string"==typeof this.options.customSearch?window[this.options.customSearch].apply(this,[this.searchText]):this.options.customSearch.apply(this,[this.searchText]));var c=this.searchText&&(this.options.escape?j.escapeHTML(this.searchText):this.searchText).toLowerCase(),d=a.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=d?this.options.data.filter(function(a){for(var b in d)if(Array.isArray(d[b])&&!d[b].includes(a[b])||!Array.isArray(d[b])&&a[b]!==d[b])return!1;return!0}):this.options.data,this.data=c?this.data.filter(function(d,e){for(var f=0;f<b.header.fields.length;f++)if(b.header.searchables[f]){var g=a.isNumeric(b.header.fields[f])?parseInt(b.header.fields[f],10):b.header.fields[f],h=b.columns[b.fieldsColumnsIndex[g]],i=void 0;if("string"==typeof g){i=d;for(var k=g.split("."),l=0;l<k.length;l++)null!=i[k[l]]&&(i=i[k[l]])}else i=d[g];if(h&&h.searchFormatter&&(i=j.calculateObjectValue(h,b.header.formatters[f],[i,d,e],i)),"string"==typeof i||"number"==typeof i)if(b.options.strictSearch){if((""+i).toLowerCase()===c)return!0}else if((""+i).toLowerCase().includes(c))return!0}return!1}):this.data}},h.initPagination=function(){var c,d,e,f=this;if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var g,h,k,l,m,n,o,p=[],q=!1,r=this.getData(),s=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=r.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,q=!0;else if(this.options.pageSize===this.options.totalRows){var t="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;t.includes(this.options.formatAllRows().toLowerCase())&&(q=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),p.push(j.sprintf('<div class="%s-%s pagination-detail">',i.classes.pull,this.options.paginationDetailHAlign),'<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){p.push('<span class="page-list">');var u=[j.sprintf('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+j.sprintf(" btn-%s",this.options.buttonsClass)+(""+j.sprintf(" btn-%s",this.options.iconSize))+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',q?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",i.html.pageDropdown[0]];if("string"==typeof this.options.pageList){var v=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");s=[],c=b(v),e=0===c,d=e?v.length:void 0;for(var w;e?d>c:!(d=c.next()).done;)w=e?v[c++]:d.value,s.push(w.toUpperCase()===this.options.formatAllRows().toUpperCase()||"UNLIMITED"===w.toUpperCase()?this.options.formatAllRows():+w);c=d=e=void 0}for(s.forEach(function(a,b){if(!f.options.smartDisplay||0===b||s[b-1]<f.options.totalRows){var c;c=q?a===f.options.formatAllRows()?"active":"":a===f.options.pageSize?"active":"",u.push(j.sprintf(i.html.pageDropdownItem,c,a))}}),u.push(""+i.html.pageDropdown[1]+"</span>"),p.push(this.options.formatRecordsPerPage(u.join(""))),p.push("</span>"),p.push("</div>",j.sprintf('<div class="%s-%s pagination">',i.classes.pull,this.options.paginationHAlign),'<ul class="pagination'+j.sprintf(" pagination-%s",this.options.iconSize)+'">',j.sprintf('<li class="page-item page-pre"><a class="page-link" href="#">%s</a></li>',this.options.paginationPreText)),this.totalPages<5?(h=1,k=this.totalPages):(h=this.options.pageNumber-2,k=h+4,1>h&&(h=1,k=5),k>this.totalPages&&(k=this.totalPages,h=k-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(p.push(j.sprintf('<li class="page-item page-first%s">',1===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',1,"</a>","</li>"),h++),this.options.pageNumber>=4&&(4===this.options.pageNumber||6===this.totalPages||7===this.totalPages?h--:p.push('<li class="page-item page-first-separator disabled">','<a class="page-link" href="#">...</a>',"</li>"),k--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&h--,6===this.totalPages?this.options.pageNumber>=this.totalPages-2&&k++:this.totalPages>=7&&(7===this.totalPages||this.options.pageNumber>=this.totalPages-3)&&k++,g=h;k>=g;g++)p.push(j.sprintf('<li class="page-item%s">',g===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',g,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&p.push('<li class="page-item page-last-separator disabled">','<a class="page-link" href="#">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&p.push(j.sprintf('<li class="page-item page-last%s">',this.totalPages===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',this.totalPages,"</a>","</li>"),p.push(j.sprintf('<li class="page-item page-next"><a class="page-link" href="#">%s</a></li>',this.options.paginationNextText),"</ul>","</div>")}this.$pagination.html(p.join("")),this.options.onlyInfoPagination||(l=this.$pagination.find(".page-list a"),m=this.$pagination.find(".page-pre"),n=this.$pagination.find(".page-next"),o=this.$pagination.find(".page-item").not(".page-next, .page-pre"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(s.length<2||this.options.totalRows<=s[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),this.options.paginationLoop||(1===this.options.pageNumber&&m.addClass("disabled"),this.options.pageNumber===this.totalPages&&n.addClass("disabled")),q&&(this.options.pageSize=this.options.formatAllRows()),l.off("click").on("click",a.proxy(this.onPageListChange,this)),m.off("click").on("click",a.proxy(this.onPagePre,this)),n.off("click").on("click",a.proxy(this.onPageNext,this)),o.off("click").on("click",a.proxy(this.onPageNumber,this)))},h.updatePagination=function(b){b&&a(b.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},h.onPageListChange=function(b){b.preventDefault();var c=a(b.currentTarget);return c.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=c.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+c.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(b),!1},h.onPagePre=function(a){return a.preventDefault(),this.options.pageNumber-1===0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,
this.updatePagination(a),!1},h.onPageNext=function(a){return a.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(a),!1},h.onPageNumber=function(b){return b.preventDefault(),this.options.pageNumber!==+a(b.currentTarget).text()?(this.options.pageNumber=+a(b.currentTarget).text(),this.updatePagination(b),!1):void 0},h.initRow=function(b,c){var d,e=this,f=[],g={},h=[],i="",k={},l=[];if(!this.hiddenRows.includes(b)){if(g=j.calculateObjectValue(this.options,this.options.rowStyle,[b,c],g),g&&g.css)for(d in g.css)h.push(""+d+(": "+g.css[d]));if(k=j.calculateObjectValue(this.options,this.options.rowAttributes,[b,c],k))for(d in k)l.push(""+d+('="'+j.escapeHTML(k[d]))+'"');return b._data&&!a.isEmptyObject(b._data)&&b._data.forEach(function(a,b){"index"!==b&&(i+=" data-"+b+('="'+a)+'"')}),f.push("<tr",j.sprintf(" %s",l.length?l.join(" "):void 0),j.sprintf(' id="%s"',Array.isArray(b)?void 0:b._id),j.sprintf(' class="%s"',g.classes||(Array.isArray(b)?void 0:b._class)),' data-index="'+c+'"',j.sprintf(' data-uniqueid="%s"',b[this.options.uniqueId]),j.sprintf("%s",i),">"),this.options.cardView&&f.push('<td colspan="'+this.header.fields.length+'"><div class="card-views">'),!this.options.cardView&&this.options.detailView&&(f.push("<td>"),j.calculateObjectValue(null,this.options.detailFilter,[c,b])&&f.push('\n            <a class="detail-icon" href="#">\n            <i class="'+this.options.iconsPrefix+(" "+this.options.icons.detailOpen)+'"></i>\n            </a>\n          '),f.push("</td>")),this.header.fields.forEach(function(d,i){var k="",l=j.getItemField(b,d,e.options.escape),m="",n="",o={},p="",q=e.header.classes[i],r="",s="",t="",u="",v="",w=e.columns[i];if((!e.fromHtml||"undefined"!=typeof l||w.checkbox||w.radio)&&w.visible&&(!e.options.cardView||w.cardVisible)){if(w.escape&&(l=j.escapeHTML(l)),h.concat([e.header.styles[i]]).length&&(r=' style="'+h.concat([e.header.styles[i]]).join("; ")+'"'),b["_"+d+"_id"]&&(p=j.sprintf(' id="%s"',b["_"+d+"_id"])),b["_"+d+"_class"]&&(q=j.sprintf(' class="%s"',b["_"+d+"_class"])),b["_"+d+"_rowspan"]&&(t=j.sprintf(' rowspan="%s"',b["_"+d+"_rowspan"])),b["_"+d+"_colspan"]&&(u=j.sprintf(' colspan="%s"',b["_"+d+"_colspan"])),b["_"+d+"_title"]&&(v=j.sprintf(' title="%s"',b["_"+d+"_title"])),o=j.calculateObjectValue(e.header,e.header.cellStyles[i],[l,b,c,d],o),o.classes&&(q=' class="'+o.classes+'"'),o.css){var x=[];for(var y in o.css)x.push(""+y+(": "+o.css[y]));r=' style="'+x.concat(e.header.styles[i]).join("; ")+'"'}if(m=j.calculateObjectValue(w,e.header.formatters[i],[l,b,c,d],l),b["_"+d+"_data"]&&!a.isEmptyObject(b["_"+d+"_data"])&&b["_"+d+"_data"].forEach(function(a,b){"index"!==b&&(s+=" data-"+b+('="'+a)+'"')}),w.checkbox||w.radio){n=w.checkbox?"checkbox":n,n=w.radio?"radio":n;var z=w["class"]||"",A=m===!0||l||m&&m.checked,B=!w.checkboxEnabled||m&&m.disabled;k=[e.options.cardView?'<div class="card-view '+z+'">':'<td class="bs-checkbox '+z+'">','<input\n              data-index="'+c+('"\n              name="'+e.options.selectItemName)+('"\n              type="'+n)+('"\n              '+j.sprintf('value="%s"',b[e.options.idField]))+("\n              "+j.sprintf('checked="%s"',A?"checked":void 0))+("\n              "+j.sprintf('disabled="%s"',B?"disabled":void 0))+" />",e.header.formatters[i]&&"string"==typeof m?m:"",e.options.cardView?"</div>":"</td>"].join(""),b[e.header.stateField]=m===!0||!!l||m&&m.checked}else if(m="undefined"==typeof m||null===m?e.options.undefinedText:m,e.options.cardView){var C=e.options.showHeader?'<span class="title"'+g+(">"+j.getFieldTitle(e.columns,d))+"</span>":"";k='<div class="card-view">'+C+('<span class="value">'+m)+"</span></div>",e.options.smartDisplay&&""===m&&(k='<div class="card-view"></div>')}else k="<td"+p+(""+q)+(""+r)+(""+s)+(""+t)+(""+u)+(""+v)+(">"+m)+"</td>";f.push(k)}}),this.options.cardView&&f.push("</div></td>"),f.push("</tr>"),f.join("")}},h.initBody=function(b){var c=this,d=this.getData();this.trigger("pre-body",d),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=a("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=d.length);for(var e=[],f=this.pageFrom-1;f<this.pageTo;f++)e.push(this.initRow(d[f],f,d));e.length||this.$body.html('<tr class="no-records-found">'+j.sprintf('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>"),this.$body.html(e.join("")),b||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(b){var d=a(b.currentTarget),e=d.parent(),f=c.data[e.data("index")],g=d[0].cellIndex,h=c.getVisibleFields(),i=h[c.options.detailView&&!c.options.cardView?g-1:g],k=c.columns[c.fieldsColumnsIndex[i]],l=j.getItemField(f,i,c.options.escape);if(!d.find(".detail-icon").length&&(c.trigger("click"===b.type?"click-cell":"dbl-click-cell",i,l,f,d),c.trigger("click"===b.type?"click-row":"dbl-click-row",f,e,i),"click"===b.type&&c.options.clickToSelect&&k.clickToSelect&&!c.options.ignoreClickToSelectOn(b.target))){var m=e.find(j.sprintf('[name="%s"]',c.options.selectItemName));m.length&&m[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(b){b.preventDefault();var e=a(b.currentTarget),f=e.parent().parent(),g=f.data("index"),h=d[g];if(f.next().is("tr.detail-view"))e.find("i").attr("class",j.sprintf("%s %s",c.options.iconsPrefix,c.options.icons.detailOpen)),c.trigger("collapse-row",g,h,f.next()),f.next().remove();else{e.find("i").attr("class",j.sprintf("%s %s",c.options.iconsPrefix,c.options.icons.detailClose)),f.after(j.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',f.find("td").length));var i=f.next().find("td"),k=j.calculateObjectValue(c.options,c.options.detailFormatter,[g,h,i],"");1===i.length&&i.append(k),c.trigger("expand-row",g,h,i)}return c.resetView(),!1}),this.$selectItem=this.$body.find(j.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(b){b.stopImmediatePropagation();var d=a(b.currentTarget);c.check_(d.prop("checked"),d.data("index"))}),this.header.events.forEach(function(b,d){if(b){"string"==typeof b&&(b=j.calculateObjectValue(null,b));var e=c.header.fields[d],f=c.getVisibleFields().indexOf(e);if(-1!==f){c.options.detailView&&!c.options.cardView&&(f+=1);for(var g in b)!function(c){var d=this;d.$body.find(">tr:not(.no-records-found)").each(function(g,h){var i=a(h),j=i.find(d.options.cardView?".card-view":"td").eq(f),k=c.indexOf(" "),l=c.substring(0,k),m=c.substring(k+1),n=b[c];j.find(m).off(l).on(l,function(a){var b=i.data("index"),c=d.data[b],f=c[e];n.apply(d,[a,f,c,b])})})}(g)}}}),this.updateSelected(),this.resetView(),this.trigger("post-body",d)},h.initServer=function(b,c,d){var e,f=this,g={},h=this.header.fields.indexOf(this.options.sortName),i={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.header.sortNames[h]&&(i.sortName=this.header.sortNames[h]),this.options.pagination&&"server"===this.options.sidePagination&&(i.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,i.pageNumber=this.options.pageNumber),(d||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(i={search:i.searchText,sort:i.sortName,order:i.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(i.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),i.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===i.limit&&delete i.limit)),a.isEmptyObject(this.filterColumnsPartial)||(i.filter=JSON.stringify(this.filterColumnsPartial,null)),g=j.calculateObjectValue(this.options,this.options.queryParams,[i],g),a.extend(g,c||{}),g!==!1&&(b||this.$tableLoading.show(),e=a.extend({},j.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:d||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(g):g,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(a){a=j.calculateObjectValue(f.options,f.options.responseHandler,[a],a),f.load(a),f.trigger("load-success",a),b||f.$tableLoading.hide()},error:function(a){var c=[];"server"===f.options.sidePagination&&(c={},c[f.options.totalField]=0,c[f.options.dataField]=[]),f.load(c),f.trigger("load-error",a.status,a),b||f.$tableLoading.hide()}}),this.options.ajax?j.calculateObjectValue(this,this.options.ajax,[e],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=a.ajax(e))))},h.initSearchText=function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var a=this.$toolbar.find(".search input");a.val(this.options.searchText),this.onSearch({currentTarget:a,firedByInitSearchText:!0})}},h.getCaret=function(){var b=this;this.$header.find("th").each(function(c,d){a(d).find(".sortable").removeClass("desc asc").addClass(a(d).data("field")===b.options.sortName?b.options.sortOrder:"both")})},h.updateSelected=function(){var b=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",b),this.$selectItem.each(function(b,c){a(c).closest("tr")[a(c).prop("checked")?"addClass":"removeClass"]("selected")})},h.updateRows=function(){var b=this;this.$selectItem.each(function(c,d){b.data[a(d).data("index")][b.header.stateField]=a(d).prop("checked")})},h.resetRows=function(){var a,c,d,e;e=this.data,a=b(e),d=0===a,c=d?e.length:void 0;for(var f;d?c>a:!(c=a.next()).done;)f=d?e[a++]:c.value,this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(f[this.header.stateField]=!1);a=c=d=e=void 0,this.initHiddenRows()},h.trigger=function(b){var e=c.call(arguments,1);b+=".bs.table",this.options[d.EVENTS[b]].apply(this.options,e),this.$el.trigger(a.Event(b),e),this.options.onAll(b,e),this.$el.trigger(a.Event("all.bs.table"),[b,e])},h.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(a.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},h.fitHeader=function(){var b,c,d,e,f=this;if(this.$el.is(":hidden"))return void(this.timeoutId_=setTimeout(a.proxy(this.fitHeader,this),100));if(b=this.$tableBody.get(0),c=b.scrollWidth>b.clientWidth&&b.scrollHeight>b.clientHeight+this.$header.outerHeight()?j.getScrollBarWidth():0,this.$el.css("margin-top",-this.$header.outerHeight()),d=a(":focus"),d.length>0){var g=d.parents("th");if(g.length>0){var h=g.attr("data-field");if(void 0!==h){var i=this.$header.find("[data-field='"+h+"']");i.length>0&&i.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":c}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),e=a(".focus-temp:visible:eq(0)"),e.length>0&&(e.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(b,c){f.$header_.find(j.sprintf('th[data-field="%s"]',a(c).data("field"))).data(a(c).data())});var k=this.getVisibleFields(),l=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(b,c){var d=a(c),e=b;if(f.options.detailView&&!f.options.cardView&&(0===b&&f.$header_.find("th.detail").find(".fht-cell").width(d.innerWidth()),e=b-1),-1!==e){var g=f.$header_.find(j.sprintf('th[data-field="%s"]',k[e]));g.length>1&&(g=a(l[d[0].cellIndex]));var h=g.width()-g.find(".fht-cell").width();g.find(".fht-cell").width(d.innerWidth()-h)}}),this.horizontalScroll(),this.trigger("post-header")},h.resetFooter=function(){var c,d,e,f,g=this.getData(),h=[];if(this.options.showFooter&&!this.options.cardView){!this.options.cardView&&this.options.detailView&&h.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),f=this.columns,c=b(f),e=0===c,d=e?f.length:void 0;for(var i;e?d>c:!(d=c.next()).done;){i=e?f[c++]:d.value;var k=void 0,l="",m="",n=[],o={},p=j.sprintf(' class="%s"',i["class"]);if(!i.visible)return;if(this.options.cardView&&!i.cardVisible)return;if(l=j.sprintf("text-align: %s; ",i.falign?i.falign:i.align),m=j.sprintf("vertical-align: %s; ",i.valign),o=j.calculateObjectValue(null,this.options.footerStyle),o&&o.css)for(k in o.css)n.push(""+k+(": "+o.css[k]));h.push("<td",p,j.sprintf(' style="%s"',l+m+n.concat().join("; ")),">"),h.push('<div class="th-inner">'),h.push(j.calculateObjectValue(i,i.footerFormatter,[g],"&nbsp;")||"&nbsp;"),h.push("</div>"),h.push('<div class="fht-cell"></div>'),h.push("</div>"),h.push("</td>")}c=d=e=f=void 0,this.$tableFooter.find("tr").html(h.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(a.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)}},h.fitFooter=function(){var b,c,d;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(a.proxy(this.fitFooter,this),100)):(c=this.$el.css("width"),d=c>this.$tableBody.width()?j.getScrollBarWidth():0,this.$tableFooter.css({"margin-right":d}).find("table").css("width",c).attr("class",this.$el.attr("class")),b=this.$tableFooter.find("td"),this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(c,d){var e=a(d);b.eq(c).find(".fht-cell").width(e.innerWidth())}),void this.horizontalScroll())},h.horizontalScroll=function(){var b=this;this.trigger("scroll-body"),this.$tableBody.off("scroll").on("scroll",function(c){b.options.showHeader&&b.options.height&&b.$tableHeader.scrollLeft(a(c.currentTarget).scrollLeft()),b.options.showFooter&&!b.options.cardView&&b.$tableFooter.scrollLeft(a(c.currentTarget).scrollLeft())})},h.toggleColumn=function(a,b,c){if(-1!==a&&(this.columns[a].visible=b,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var d=this.$toolbar.find(".keep-open input").prop("disabled",!1);c&&d.filter(j.sprintf('[value="%s"]',a)).prop("checked",b),d.filter(":checked").length<=this.options.minimumCountColumns&&d.filter(":checked").prop("disabled",!0)}},h.getVisibleFields=function(){var a,c,d,e,f=[];e=this.header.fields,a=b(e),d=0===a,c=d?e.length:void 0;for(var g;d?c>a:!(c=a.next()).done;){g=d?e[a++]:c.value;var h=this.columns[this.fieldsColumnsIndex[g]];h.visible&&f.push(g)}return a=c=d=e=void 0,f},h.resetView=function(a){var b=0;if(a&&a.height&&(this.options.height=a.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var c=this.$toolbar.outerHeight(!0),d=this.$pagination.outerHeight(!0),e=this.options.height-c-d;this.$tableContainer.css("height",""+e+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide()):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),b+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(b+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",""+b+"px"),void this.trigger("reset-view"))},h.getData=function(b){var c=this.options.data;return(this.searchText||this.options.sortName||!a.isEmptyObject(this.filterColumns)||!a.isEmptyObject(this.filterColumnsPartial))&&(c=this.data),b?c.slice(this.pageFrom-1,this.pageTo):c},h.load=function(a){var b=!1;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=a[this.options.totalField]),b=a.fixedScroll,a=Array.isArray(a)?a:a[this.options.dataField],this.initData(a),this.initSearch(),this.initPagination(),this.initBody(b)},h.append=function(a){this.initData(a,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.prepend=function(a){this.initData(a,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.remove=function(a){var b,c,d=this.options.data.length;if(a.hasOwnProperty("field")&&a.hasOwnProperty("values")){for(b=d-1;b>=0;b--)c=this.options.data[b],c.hasOwnProperty(a.field)&&a.values.includes(c[a.field])&&(this.options.data.splice(b,1),"server"===this.options.sidePagination&&(this.options.totalRows-=1));d!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},h.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},h.getRowByUniqueId=function(a){var b,c,d,e=this.options.uniqueId,f=this.options.data.length,g=null;for(b=f-1;b>=0;b--){if(c=this.options.data[b],c.hasOwnProperty(e))d=c[e];else{if(!c._data.hasOwnProperty(e))continue;d=c._data[e]}if("string"==typeof d?a=a.toString():"number"==typeof d&&(Number(d)===d&&d%1===0?a=parseInt(a):d===Number(d)&&0!==d&&(a=parseFloat(a))),d===a){g=c;break}}return g},h.removeByUniqueId=function(a){var b=this.options.data.length,c=this.getRowByUniqueId(a);c&&this.options.data.splice(this.options.data.indexOf(c),1),b!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},h.updateByUniqueId=function(c){var d,e,f,g=Array.isArray(c)?c:[c];d=b(g),f=0===d,e=f?g.length:void 0;for(var h;f?e>d:!(e=d.next()).done;){h=f?g[d++]:e.value;var i=void 0;h.hasOwnProperty("id")&&h.hasOwnProperty("row")&&(i=this.options.data.indexOf(this.getRowByUniqueId(h.id)),-1!==i&&a.extend(this.options.data[i],h.row))}d=e=f=void 0,this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.refreshColumnTitle=function(b){if(b.hasOwnProperty("field")&&b.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[b.field]].title=this.options.escape?j.escapeHTML(b.title):b.title,this.columns[this.fieldsColumnsIndex[b.field]].visible)){var c=void 0!==this.options.height?this.$tableHeader:this.$header;c.find("th[data-field]").each(function(c,d){return a(d).data("field")===b.field?(a(a(d).find(".th-inner")[0]).text(b.title),!1):void 0})}},h.insertRow=function(a){a.hasOwnProperty("index")&&a.hasOwnProperty("row")&&(this.options.data.splice(a.index,0,a.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},h.updateRow=function(c){var d,e,f,g=Array.isArray(c)?c:[c];d=b(g),f=0===d,e=f?g.length:void 0;for(var h;f?e>d:!(e=d.next()).done;)h=f?g[d++]:e.value,h.hasOwnProperty("index")&&h.hasOwnProperty("row")&&a.extend(this.options.data[h.index],h.row);d=e=f=void 0,this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.initHiddenRows=function(){this.hiddenRows=[]},h.showRow=function(a){this.toggleRow(a,!0)},h.hideRow=function(a){this.toggleRow(a,!1)},h.toggleRow=function(a,b){var c,d;a.hasOwnProperty("index")?c=this.getData()[a.index]:a.hasOwnProperty("uniqueId")&&(c=this.getRowByUniqueId(a.uniqueId)),c&&(d=this.hiddenRows.indexOf(c),b||-1!==d?b&&d>-1&&this.hiddenRows.splice(d,1):this.hiddenRows.push(c),this.initBody(!0))},h.getHiddenRows=function(){var a,c,d,e=this.getData(),f=[];a=b(e),d=0===a,c=d?e.length:void 0;for(var g;d?c>a:!(c=a.next()).done;)g=d?e[a++]:c.value,this.hiddenRows.includes(g)&&f.push(g);return a=c=d=void 0,this.hiddenRows=f,f},h.mergeCells=function(a){var b,c,d,e=a.index,f=this.getVisibleFields().indexOf(a.field),g=a.rowspan||1,h=a.colspan||1,i=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(f+=1),d=i.eq(e).find(">td").eq(f),!(0>e||0>f||e>=this.data.length)){for(b=e;e+g>b;b++)for(c=f;f+h>c;c++)i.eq(b).find(">td").eq(c).hide();d.attr("rowspan",g).attr("colspan",h).show()}},h.updateCell=function(a){a.hasOwnProperty("index")&&a.hasOwnProperty("field")&&a.hasOwnProperty("value")&&(this.data[a.index][a.field]=a.value,a.reinit!==!1&&(this.initSort(),this.initBody(!0)))},h.updateCellById=function(a){var b=this;if(a.hasOwnProperty("id")&&a.hasOwnProperty("field")&&a.hasOwnProperty("value")){var c=Array.isArray(a)?a:[a];c.forEach(function(a){var c,d=a.id,e=a.field,a=a.value;c=b.options.data.indexOf(b.getRowByUniqueId(d)),-1!==c&&(b.data[c][e]=a)}),a.reinit!==!1&&(this.initSort(),this.initBody(!0))}},h.getOptions=function(){return a.extend(!0,{},this.options)},h.getSelections=function(){var a=this;return this.options.data.filter(function(b){return b[a.header.stateField]===!0})},h.getAllSelections=function(){var a=this;return this.options.data.filter(function(b){return b[a.header.stateField]})},h.checkAll=function(){this.checkAll_(!0)},h.uncheckAll=function(){this.checkAll_(!1)},h.checkInvert=function(){var b=this.$selectItem.filter(":enabled"),c=b.filter(":checked");b.each(function(b,c){a(c).prop("checked",!a(c).prop("checked"))}),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",c),c=this.getSelections(),this.trigger("check-some",c)},h.checkAll_=function(a){var b;a||(b=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",a),this.$selectItem.filter(":enabled").prop("checked",a),this.updateRows(),a&&(b=this.getSelections()),this.trigger(a?"check-all":"uncheck-all",b)},h.check=function(a){this.check_(!0,a)},h.uncheck=function(a){this.check_(!1,a)},h.check_=function(a,c){var d,e,f,g,h=this.$selectItem.filter('[data-index="'+c+'"]'),i=this.data[c];if(h.is(":radio")||this.options.singleSelect){g=this.options.data,d=b(g),f=0===d,e=f?g.length:void 0;for(var j;f?e>d:!(e=d.next()).done;)j=f?g[d++]:e.value,j[this.header.stateField]=!1;d=e=f=g=void 0,this.$selectItem.filter(":checked").not(h).prop("checked",!1)}i[this.header.stateField]=a,h.prop("checked",a),this.updateSelected(),this.trigger(a?"check":"uncheck",this.data[c],h)},h.checkBy=function(a){this.checkBy_(!0,a)},h.uncheckBy=function(a){this.checkBy_(!1,a)},h.checkBy_=function(a,b){var c=this;if(b.hasOwnProperty("field")&&b.hasOwnProperty("values")){var d=[];this.options.data.forEach(function(e,f){if(!e.hasOwnProperty(b.field))return!1;if(b.values.includes(e[b.field])){var g=c.$selectItem.filter(":enabled").filter(j.sprintf('[data-index="%s"]',f)).prop("checked",a);e[c.header.stateField]=a,d.push(e),c.trigger(a?"check":"uncheck",e,g)}}),this.updateSelected(),this.trigger(a?"check-some":"uncheck-some",d)}},h.destroy=function(){this.$el.insertBefore(this.$container),a(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},h.showLoading=function(){this.$tableLoading.show()},h.hideLoading=function(){this.$tableLoading.hide()},h.togglePagination=function(){this.options.pagination=!this.options.pagination;var a=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?a.attr("class",""+this.options.iconsPrefix+(" "+this.options.icons.paginationSwitchDown)):a.attr("class",""+this.options.iconsPrefix+(" "+this.options.icons.paginationSwitchUp)),this.updatePagination()},h.toggleFullscreen=function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen")},h.refresh=function(a){a&&a.url&&(this.options.url=a.url),a&&a.pageNumber&&(this.options.pageNumber=a.pageNumber),a&&a.pageSize&&(this.options.pageSize=a.pageSize),this.initServer(a&&a.silent,a&&a.query,a&&a.url),this.trigger("refresh",a)},h.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&!this.options.cardView&&this.fitFooter()},h.showColumn=function(a){this.toggleColumn(this.fieldsColumnsIndex[a],!0,!0)},h.hideColumn=function(a){this.toggleColumn(this.fieldsColumnsIndex[a],!1,!0)},h.getHiddenColumns=function(){return this.columns.filter(function(a){var a=a.visible;return!a})},h.getVisibleColumns=function(){return this.columns.filter(function(a){var a=a.visible;return a})},h.toggleAllColumns=function(a){var c,d,e,f;f=this.columns,c=b(f),e=0===c,d=e?f.length:void 0;for(var g;e?d>c:!(d=c.next()).done;)g=e?f[c++]:d.value,g.visible=a;if(c=d=e=f=void 0,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var h=this.$toolbar.find(".keep-open input").prop("disabled",!1);h.filter(":checked").length<=this.options.minimumCountColumns&&h.filter(":checked").prop("disabled",!0)}},h.showAllColumns=function(){this.toggleAllColumns(!0)},h.hideAllColumns=function(){this.toggleAllColumns(!1)},h.filterBy=function(b){this.filterColumns=a.isEmptyObject(b)?{}:b,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},h.scrollTo=function(a){return"string"==typeof a&&(a="bottom"===a?this.$tableBody[0].scrollHeight:0),"number"==typeof a&&this.$tableBody.scrollTop(a),"undefined"==typeof a?this.$tableBody.scrollTop():void 0},h.getScrollPosition=function(){return this.scrollTo()},h.selectPage=function(a){a>0&&a<=this.options.totalPages&&(this.options.pageNumber=a,this.updatePagination())},h.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},h.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},h.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader();var a=this.$toolbar.find('button[name="toggle"] i');this.options.cardView?(a.removeClass(this.options.icons.toggleOff),a.addClass(this.options.icons.toggleOn)):(a.removeClass(this.options.icons.toggleOn),a.addClass(this.options.icons.toggleOff)),this.initBody(),this.trigger("toggle",this.options.cardView)},h.refreshOptions=function(b){j.compareObjects(this.options,b,!0)||(this.options=a.extend(this.options,b),this.trigger("refresh-options",this.options),this.destroy(),this.init())},h.resetSearch=function(a){var b=this.$toolbar.find(".search input");b.val(a||""),this.onSearch({currentTarget:b})},h.expandRow_=function(a,b){var c=this.$body.find(j.sprintf('> tr[data-index="%s"]',b));c.next().is("tr.detail-view")===!a&&c.find("> td > .detail-icon").click()},h.expandRow=function(a){this.expandRow_(!0,a)},h.collapseRow=function(a){this.expandRow_(!1,a)},h.expandAllRows=function(b){var c=this;if(b){var d=this.$body.find(j.sprintf('> tr[data-index="%s"]',0)),e=null,f=!1,g=-1;if(d.next().is("tr.detail-view")?d.next().next().is("tr.detail-view")||(d.next().find(".detail-icon").click(),f=!0):(d.find("> td > .detail-icon").click(),f=!0),f)try{g=setInterval(function(){e=c.$body.find("tr.detail-view").last().find(".detail-icon"),e.length>0?e.click():clearInterval(g)},1)}catch(h){clearInterval(g)}}else for(var i=this.$body.children(),k=0;k<i.length;k++)this.expandRow_(!0,a(i[k]).data("index"))},h.collapseAllRows=function(b){if(b)this.expandRow_(!1,0);else for(var c=this.$body.children(),d=0;d<c.length;d++)this.expandRow_(!1,a(c[d]).data("index"))},h.updateFormatText=function(a,b){this.options[j.sprintf("format%s",a)]&&("string"==typeof b?this.options[j.sprintf("format%s",a)]=function(){return b}:"function"==typeof b&&(this.options[j.sprintf("format%s",a)]=b)),this.initToolbar(),this.initPagination(),this.initBody()},g(d.prototype,h),h=void 0,d}();o.DEFAULTS=k,o.LOCALES=l,o.COLUMN_DEFAULTS=m,o.EVENTS=n;var p=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","refreshColumnTitle","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText","updateCellById"];a.BootstrapTable=o,a.fn.bootstrapTable=function(b){var d,e=c.call(arguments,1);return this.each(function(c,f){var g=a(f).data("bootstrap.table"),h=a.extend({},o.DEFAULTS,a(f).data(),"object"==typeof b&&b);if("string"==typeof b){if(!p.includes(b))throw new Error("Unknown method: "+b);if(!g)return;d=g[b].apply(g,e),"destroy"===b&&a(f).removeData("bootstrap.table")}g||a(f).data("bootstrap.table",g=new a.BootstrapTable(f,h))}),"undefined"==typeof d?this:d},a.fn.bootstrapTable.Constructor=o,a.fn.bootstrapTable.defaults=o.DEFAULTS,a.fn.bootstrapTable.columnDefaults=o.COLUMN_DEFAULTS,a.fn.bootstrapTable.locales=o.LOCALES,a.fn.bootstrapTable.methods=p,a.fn.bootstrapTable.utils=j,a(function(){a('[data-toggle="table"]').bootstrapTable()})}(jQuery);